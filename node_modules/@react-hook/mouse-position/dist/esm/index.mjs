function e(){return(e=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function t(t,n){if("undefined"==typeof window)return t;var o,{event:u,element:c}=n;o="touches"in u?u.touches[0]:u;var{clientX:r,clientY:i,screenX:a,screenY:s,pageX:l=0,pageY:v=0}=o,m=c.getBoundingClientRect(),h=l-m.left-(window.pageXOffset||window.scrollX),p=v-m.top-(window.pageYOffset||window.scrollY);return"touches"in u&&(0>h||0>p||h>m.width||p>m.height)?e({},t,{context:e({},t.context,{hoverStatus:"leave",touchStatus:"end"})}):{context:e({},t.context,{hoverStatus:"enter"}),mouse:e({},t.mouse,{x:h,y:p,pageX:l,pageY:v,clientX:r,clientY:i,screenX:a,screenY:s,elementWidth:m.width,elementHeight:m.height,isOver:1,isTouch:"touches"in u})}}function n(n,o){var{mouse:u,context:c}=n,r=t;return"mousemove"===o.type?"end"===c.touchStatus?n:r(n,o):"touchmove"===o.type?r({context:e({},c,{touchStatus:"start"}),mouse:u},o):"touchdown"===o.type?r({context:e({},c,{touchStatus:"start"}),mouse:e({},u,{isDown:1})},o):"mousedown"===o.type?{context:c,mouse:e({},u,{isDown:1})}:"mouseup"===o.type?{context:c,mouse:e({},u,{isDown:0})}:"mouseleave"===o.type?{context:e({},c,{hoverStatus:"leave"}),mouse:e({},u,{isOver:0})}:"touchleave"===o.type?{context:e({},c,{hoverStatus:"leave",touchStatus:"end"}),mouse:e({},u,{isOver:0,isDown:0})}:"activeStatus"===o.type?{context:e({},c,{activeStatus:o.value}),mouse:u}:n}import{useReducer as o,useEffect as u}from"react";import c from"@react-hook/event";import{useThrottleCallback as r}from"@react-hook/throttle";var i={x:null,y:null,pageX:null,pageY:null,clientX:null,clientY:null,screenX:null,screenY:null,elementWidth:null,elementHeight:null,isOver:0,isDown:0,isTouch:0},a={hoverStatus:"idle",touchStatus:"idle",activeStatus:"inactive"};export default function(e,t){function s(){return d({type:"activeStatus",value:"active"})}function l(){return d({type:"activeStatus",value:"inactive"})}void 0===t&&(t={});var{fps:v=30,enterDelay:m=0,leaveDelay:h=0}=t,[p,d]=o(n,{mouse:i,context:a}),w=r(t=>{var n=e&&"current"in e?e.current:e;n&&d({type:"mousemove",event:t,element:n})},v,1),f=r(t=>{var n=e&&"current"in e?e.current:e;n&&d({type:"touchmove",event:t,element:n})},v,1),y=r(()=>d({type:"mouseleave"}),v,0),S=r(t=>{var n=e&&"current"in e?e.current:e;n&&d("touches"in t?{type:"touchdown",element:n,event:t}:{type:"mousedown",element:n,event:t})},v,1),x=r(()=>d({type:"mouseup"}),v,0),g=r(()=>d({type:"touchleave"}),v,0);return c(e,"mouseenter",w),c(e,"mousemove",w),c(e,"mouseleave",y),c(e,"mousedown",S),c("undefined"!=typeof window?window:null,"mousedown",S),c("undefined"!=typeof window?window:null,"mouseup",x),c(e,"touchstart",S),c(e,"touchmove",f),c(e,"touchend",g),c(e,"touchcancel",g),u(()=>{if("enter"===p.context.hoverStatus){if(m){var e=setTimeout(s,m);return()=>clearTimeout(e)}d({type:"activeStatus",value:"active"})}else{if(h){var t=setTimeout(l,h);return()=>clearTimeout(t)}d({type:"activeStatus",value:"inactive"})}},[p.context.hoverStatus,m,h]),"active"===p.context.activeStatus?p.mouse:i}
//# sourceMappingURL=index.mjs.map
