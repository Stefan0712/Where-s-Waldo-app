!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e=e||self).useMousePosition=t(e.React)}(this,(function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:1,configurable:1,writable:1}):e[t]=n,e}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,u)}return n}function u(e){for(var u=1;arguments.length>u;u++){var r=null!=arguments[u]?arguments[u]:{};u%2?n(Object(r),1).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function r(t,n,u,r){var o=e.useRef(u),c=e.useRef(r);e.useEffect((function(){o.current=u,c.current=r})),e.useEffect((function(){function e(){if(!r){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];o.current.apply(this,t)}}var u=t&&"current"in t?t.current:t;if(u){var r=0;u.addEventListener(n,e);var i=c.current;return function(){r=1,u.removeEventListener(n,e),i&&i()}}}),[t,n])}function o(t,n,u){function r(){f.current=0,v()}void 0===n&&(n=30),void 0===u&&(u=0);var o,c,i=(o=t,(c=e.useRef(o)).current=o,c),s=1e3/n,f=e.useRef(0),l=e.useRef(),v=function(){return l.current&&clearTimeout(l.current)},p=[n,u,i];return e.useEffect((function(){return r}),p),e.useCallback((function(){var e=arguments,t=a(),n=function(){f.current=t,v(),i.current.apply(null,e)},r=f.current;if(u&&0===r)return n();if(t-r>s){if(r>0)return n();f.current=t}v(),l.current=setTimeout((function(){n(),f.current=0}),s)}),p)}function c(e,t){if("undefined"==typeof window)return e;var n=t.event,r=t.element,o="touches"in n?n.touches[0]:n,c=o.clientX,i=o.clientY,s=o.screenX,a=o.screenY,f=o.pageX,l=void 0===f?0:f,v=o.pageY,p=void 0===v?0:v,m=r.getBoundingClientRect(),d=l-m.left-(window.pageXOffset||window.scrollX),h=p-m.top-(window.pageYOffset||window.scrollY);return"touches"in n&&(0>d||0>h||d>m.width||h>m.height)?u(u({},e),{},{context:u(u({},e.context),{},{hoverStatus:"leave",touchStatus:"end"})}):{context:u(u({},e.context),{},{hoverStatus:"enter"}),mouse:u(u({},e.mouse),{},{x:d,y:h,pageX:l,pageY:p,clientX:c,clientY:i,screenX:s,screenY:a,elementWidth:m.width,elementHeight:m.height,isOver:1,isTouch:"touches"in n})}}function i(e,t){var n=e.mouse,r=e.context,o=c;return"mousemove"===t.type?"end"===r.touchStatus?e:o(e,t):"touchmove"===t.type?o({context:u(u({},r),{},{touchStatus:"start"}),mouse:n},t):"touchdown"===t.type?o({context:u(u({},r),{},{touchStatus:"start"}),mouse:u(u({},n),{},{isDown:1})},t):"mousedown"===t.type?{context:r,mouse:u(u({},n),{},{isDown:1})}:"mouseup"===t.type?{context:r,mouse:u(u({},n),{},{isDown:0})}:"mouseleave"===t.type?{context:u(u({},r),{},{hoverStatus:"leave"}),mouse:u(u({},n),{},{isOver:0})}:"touchleave"===t.type?{context:u(u({},r),{},{hoverStatus:"leave",touchStatus:"end"}),mouse:u(u({},n),{},{isOver:0,isDown:0})}:"activeStatus"===t.type?{context:u(u({},r),{},{activeStatus:t.value}),mouse:n}:e}var s="undefined"!=typeof performance?performance:Date,a=function(){return s.now()},f={x:null,y:null,pageX:null,pageY:null,clientX:null,clientY:null,screenX:null,screenY:null,elementWidth:null,elementHeight:null,isOver:0,isDown:0,isTouch:0},l={hoverStatus:"idle",touchStatus:"idle",activeStatus:"inactive"};return function(t,n){function u(){return O({type:"activeStatus",value:"active"})}function c(){return O({type:"activeStatus",value:"inactive"})}void 0===n&&(n={});var s=n,a=s.fps,v=void 0===a?30:a,p=s.enterDelay,m=void 0===p?0:p,d=s.leaveDelay,h=void 0===d?0:d,y=e.useReducer(i,{mouse:f,context:l}),w=y[0],O=y[1],g=o((function(e){var n=t&&"current"in t?t.current:t;n&&O({type:"mousemove",event:e,element:n})}),v,1),S=o((function(e){var n=t&&"current"in t?t.current:t;n&&O({type:"touchmove",event:e,element:n})}),v,1),b=o((function(){return O({type:"mouseleave"})}),v,0),x=o((function(e){var n=t&&"current"in t?t.current:t;n&&O("touches"in e?{type:"touchdown",element:n,event:e}:{type:"mousedown",element:n,event:e})}),v,1),j=o((function(){return O({type:"mouseup"})}),v,0),D=o((function(){return O({type:"touchleave"})}),v,0);return r(t,"mouseenter",g),r(t,"mousemove",g),r(t,"mouseleave",b),r(t,"mousedown",x),r("undefined"!=typeof window?window:null,"mousedown",x),r("undefined"!=typeof window?window:null,"mouseup",j),r(t,"touchstart",x),r(t,"touchmove",S),r(t,"touchend",D),r(t,"touchcancel",D),e.useEffect((function(){if("enter"===w.context.hoverStatus){if(m){var e=setTimeout(u,m);return function(){return clearTimeout(e)}}O({type:"activeStatus",value:"active"})}else{if(h){var t=setTimeout(c,h);return function(){return clearTimeout(t)}}O({type:"activeStatus",value:"inactive"})}}),[w.context.hoverStatus,m,h]),"active"===w.context.activeStatus?w.mouse:f}}));
//# sourceMappingURL=use-mouse-position.js.map
