{"version":3,"file":"use-mouse-position.dev.js","sources":["../../node_modules/@react-hook/event/src/index.tsx","../../node_modules/@react-hook/latest/src/index.tsx","../../node_modules/@react-hook/throttle/src/index.tsx","../../src/index.tsx"],"sourcesContent":["import * as React from 'react'\n\nfunction useEvent<\n  T extends Window = Window,\n  K extends keyof WindowEventMap = keyof WindowEventMap\n>(\n  target: Window | null,\n  type: K,\n  listener: WindowEventListener<K>,\n  cleanup?: (...args: any[]) => void\n): void\nfunction useEvent<\n  T extends Document = Document,\n  K extends keyof DocumentEventMap = keyof DocumentEventMap\n>(\n  target: Document | null,\n  type: K,\n  listener: DocumentEventListener<K>,\n  cleanup?: (...args: any[]) => void\n): void\nfunction useEvent<\n  T extends HTMLElement = HTMLElement,\n  K extends keyof HTMLElementEventMap = keyof HTMLElementEventMap\n>(\n  target: React.RefObject<T> | T | null,\n  type: K,\n  listener: ElementEventListener<K>,\n  cleanup?: (...args: any[]) => void\n): void\nfunction useEvent(target: any, type: any, listener: any, cleanup: any): void {\n  const storedListener = React.useRef(listener)\n  const storedCleanup = React.useRef(cleanup)\n\n  React.useEffect(() => {\n    storedListener.current = listener\n    storedCleanup.current = cleanup\n  })\n\n  React.useEffect(() => {\n    const targetEl = target && 'current' in target ? target.current : target\n    if (!targetEl) return\n\n    let didUnsubscribe = 0\n    function listener(this: any, ...args: any[]) {\n      if (didUnsubscribe) return\n      storedListener.current.apply(this, args)\n    }\n\n    targetEl.addEventListener(type, listener)\n    const cleanup = storedCleanup.current\n\n    return () => {\n      didUnsubscribe = 1\n      targetEl.removeEventListener(type, listener)\n      cleanup && cleanup()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [target, type])\n}\n\nexport type ElementEventListener<\n  K extends keyof HTMLElementEventMap = keyof HTMLElementEventMap\n> = (this: HTMLElement, ev: HTMLElementEventMap[K]) => any\n\nexport type DocumentEventListener<\n  K extends keyof DocumentEventMap = keyof DocumentEventMap\n> = (this: Document, ev: DocumentEventMap[K]) => any\n\nexport type WindowEventListener<\n  K extends keyof WindowEventMap = keyof WindowEventMap\n> = (this: Document, ev: WindowEventMap[K]) => any\n\nexport default useEvent\n","import * as React from 'react'\n\nconst useLatest = <T extends any>(current: T) => {\n  const storedValue = React.useRef(current)\n  storedValue.current = current\n  return storedValue\n}\n\nexport default useLatest\n","import * as React from 'react'\nimport useLatest from '@react-hook/latest'\n\nconst perf = typeof performance !== 'undefined' ? performance : Date\nconst now = () => perf.now()\n\nexport function useThrottleCallback<CallbackArguments extends any[]>(\n  callback: (...args: CallbackArguments) => void,\n  fps = 30,\n  leading = false\n): (...args: CallbackArguments) => void {\n  const storedCallback = useLatest(callback)\n  const ms = 1000 / fps\n  const prev = React.useRef(0)\n  const trailingTimeout = React.useRef<ReturnType<typeof setTimeout>>()\n  const clearTrailing = () =>\n    trailingTimeout.current && clearTimeout(trailingTimeout.current)\n  const deps = [fps, leading, storedCallback]\n\n  // Reset any time the deps change\n  React.useEffect(\n    () => () => {\n      prev.current = 0\n      clearTrailing()\n    },\n    deps\n  )\n\n  return React.useCallback(function () {\n    // eslint-disable-next-line prefer-rest-params\n    const args = arguments\n    const rightNow = now()\n    const call = () => {\n      prev.current = rightNow\n      clearTrailing()\n      storedCallback.current.apply(null, args as any)\n    }\n    const current = prev.current\n    // leading\n    if (leading && current === 0) return call()\n    // body\n    if (rightNow - current > ms) {\n      if (current > 0) return call()\n      prev.current = rightNow\n    }\n    // trailing\n    clearTrailing()\n    trailingTimeout.current = setTimeout(() => {\n      call()\n      prev.current = 0\n    }, ms)\n  }, deps)\n}\n\nexport function useThrottle<State>(\n  initialState: State | (() => State),\n  fps?: number,\n  leading?: boolean\n): [State, React.Dispatch<React.SetStateAction<State>>] {\n  const state = React.useState<State>(initialState)\n  return [state[0], useThrottleCallback(state[1], fps, leading)]\n}\n","import * as React from 'react'\nimport useEvent from '@react-hook/event'\nimport {useThrottleCallback} from '@react-hook/throttle'\n\nfunction useMouse<T extends HTMLElement = HTMLElement>(\n  target: React.RefObject<T> | T | null,\n  options: UseMouseOptions = {}\n): MousePosition {\n  const {fps = 30, enterDelay = 0, leaveDelay = 0} = options\n  const [state, dispatch] = React.useReducer<\n    React.Reducer<UseMouseState, UseMouseAction<T>>\n  >(\n    (state, action): UseMouseState => {\n      const {mouse, context} = state\n      const handleDown = (\n        state: UseMouseState,\n        action:\n          | TouchdownAction<T>\n          | MousedownAction<T>\n          | MousemoveAction<T>\n          | TouchmoveAction<T>\n      ): UseMouseState => {\n        if (typeof window === 'undefined') return state\n        const {event: e, element} = action\n        let event: MouseEvent | TouchEvent['touches'][0]\n        if ('touches' in e) {\n          event = (e as TouchEvent).touches[0]\n        } else {\n          event = e\n        }\n        const {clientX, clientY, screenX, screenY, pageX = 0, pageY = 0} = event\n        const rect = element.getBoundingClientRect()\n        const x = pageX - rect.left - (window.pageXOffset || window.scrollX)\n        const y = pageY - rect.top - (window.pageYOffset || window.scrollY)\n        // shims a mouseleave event for touch devices\n        if (\n          'touches' in e &&\n          (x < 0 || y < 0 || x > rect.width || y > rect.height)\n        ) {\n          return {\n            ...state,\n            context: {\n              ...state.context,\n              hoverStatus: 'leave',\n              touchStatus: 'end',\n            },\n          }\n        }\n\n        return {\n          context: {\n            ...state.context,\n            hoverStatus: 'enter',\n          },\n          mouse: {\n            ...state.mouse,\n            x,\n            y,\n            pageX,\n            pageY,\n            clientX,\n            clientY,\n            screenX,\n            screenY,\n            elementWidth: rect.width,\n            elementHeight: rect.height,\n            isOver: true,\n            isTouch: 'touches' in e,\n          },\n        }\n      }\n\n      if (action.type === 'mousemove') {\n        // Bails out if touch has ended\n        if (context.touchStatus === 'end') return state\n        return handleDown(state, action)\n      } else if (action.type === 'touchmove') {\n        const nextState: UseMouseState = {\n          context: {\n            ...context,\n            touchStatus: 'start',\n          },\n          mouse,\n        }\n\n        return handleDown(nextState, action)\n      } else if (action.type === 'touchdown') {\n        const nextState: UseMouseState = {\n          context: {\n            ...context,\n            touchStatus: 'start',\n          },\n          mouse: {\n            ...mouse,\n            isDown: true,\n          },\n        }\n\n        return handleDown(nextState, action)\n      } else if (action.type === 'mousedown') {\n        return {\n          context,\n          mouse: {\n            ...mouse,\n            isDown: true,\n          },\n        }\n      } else if (action.type === 'mouseup') {\n        return {context, mouse: {...mouse, isDown: false}}\n      } else if (action.type === 'mouseleave') {\n        return {\n          context: {\n            ...context,\n            hoverStatus: 'leave',\n          },\n          mouse: {...mouse, isOver: false},\n        }\n      } else if (action.type === 'touchleave') {\n        return {\n          context: {...context, hoverStatus: 'leave', touchStatus: 'end'},\n          mouse: {...mouse, isOver: false, isDown: false},\n        }\n      } else if (action.type === 'activeStatus') {\n        return {\n          context: {...context, activeStatus: action.value},\n          mouse,\n        }\n      }\n\n      return state\n    },\n    {\n      mouse: initialState,\n      context: initialContext,\n    }\n  )\n\n  const onMove = useThrottleCallback(\n    (event: MouseEvent | TouchEvent) => {\n      const element = target && 'current' in target ? target.current : target\n      if (!element) return\n      dispatch({type: 'mousemove', event, element})\n    },\n    fps,\n    true\n  )\n  const onTouchMove = useThrottleCallback(\n    (event: MouseEvent | TouchEvent) => {\n      const element = target && 'current' in target ? target.current : target\n      if (!element) return\n      dispatch({type: 'touchmove', event, element})\n    },\n    fps,\n    true\n  )\n  const onLeave = useThrottleCallback(\n    () => dispatch({type: 'mouseleave'}),\n    fps,\n    // This has to be false because we always want this callback to fire after any\n    // move events.\n    false\n  )\n  const onDown = useThrottleCallback(\n    (event: MouseEvent | TouchEvent) => {\n      const element = target && 'current' in target ? target.current : target\n      if (!element) return\n      dispatch(\n        'touches' in event\n          ? {\n              type: 'touchdown',\n              element,\n              event: event,\n            }\n          : {\n              type: 'mousedown',\n              element,\n              event: event,\n            }\n      )\n    },\n    fps,\n    true\n  )\n  const onUp = useThrottleCallback(\n    () => dispatch({type: 'mouseup'}),\n    fps,\n    // This has to be false because we always want this callback to fire after any\n    // down events.\n    false\n  )\n  const onTouchEnd = useThrottleCallback(\n    () => dispatch({type: 'touchleave'}),\n    fps,\n    // This has to be false because we always want this callback to fire after any\n    // move events.\n    false\n  )\n\n  useEvent(target, 'mouseenter', onMove)\n  useEvent(target, 'mousemove', onMove)\n  useEvent(target, 'mouseleave', onLeave)\n  useEvent(target, 'mousedown', onDown)\n  useEvent(typeof window !== 'undefined' ? window : null, 'mousedown', onDown)\n  useEvent(typeof window !== 'undefined' ? window : null, 'mouseup', onUp)\n  useEvent(target, 'touchstart', onDown)\n  useEvent(target, 'touchmove', onTouchMove)\n  useEvent(target, 'touchend', onTouchEnd)\n  useEvent(target, 'touchcancel', onTouchEnd)\n\n  React.useEffect(() => {\n    if (state.context.hoverStatus === 'enter') {\n      if (enterDelay) {\n        const timeout = setTimeout(\n          () => dispatch({type: 'activeStatus', value: 'active'}),\n          enterDelay\n        )\n        return () => clearTimeout(timeout)\n      }\n\n      dispatch({type: 'activeStatus', value: 'active'})\n    } else {\n      if (leaveDelay) {\n        const timeout = setTimeout(\n          () => dispatch({type: 'activeStatus', value: 'inactive'}),\n          leaveDelay\n        )\n        return () => clearTimeout(timeout)\n      }\n\n      dispatch({type: 'activeStatus', value: 'inactive'})\n    }\n  }, [state.context.hoverStatus, enterDelay, leaveDelay])\n\n  return state.context.activeStatus === 'active' ? state.mouse : initialState\n}\n\nconst initialState: MousePosition = {\n  x: null,\n  y: null,\n  pageX: null,\n  pageY: null,\n  clientX: null,\n  clientY: null,\n  screenX: null,\n  screenY: null,\n  elementWidth: null,\n  elementHeight: null,\n  isOver: false,\n  isDown: false,\n  isTouch: false,\n}\n\nconst initialContext: UseMouseState['context'] = {\n  hoverStatus: 'idle',\n  touchStatus: 'idle',\n  activeStatus: 'inactive',\n}\n\ninterface UseMouseState {\n  mouse: MousePosition\n  context: {\n    hoverStatus: 'idle' | 'enter' | 'leave'\n    touchStatus: 'idle' | 'start' | 'end'\n    activeStatus: 'inactive' | 'active'\n  }\n}\n\ntype UseMouseAction<T extends HTMLElement> =\n  | MousemoveAction<T>\n  | {\n      type: 'activeStatus'\n      value: UseMouseState['context']['activeStatus']\n    }\n  | {\n      type: 'mouseleave'\n    }\n  | {\n      type: 'touchleave'\n    }\n  | {\n      type: 'mouseup'\n    }\n  | TouchdownAction<T>\n  | MousedownAction<T>\n  | TouchmoveAction<T>\n\ntype TouchdownAction<T> = {\n  type: 'touchdown'\n  element: T\n  event: TouchEvent\n}\n\ntype MousedownAction<T> = {\n  type: 'mousedown'\n  element: T\n  event: MouseEvent\n}\n\ntype MousemoveAction<T> = {\n  type: 'mousemove'\n  element: T\n  event: MouseEvent | TouchEvent\n}\n\ntype TouchmoveAction<T> = {\n  type: 'touchmove'\n  element: T\n  event: MouseEvent | TouchEvent\n}\n\nexport interface UseMouseOptions {\n  enterDelay?: number\n  leaveDelay?: number\n  fps?: number\n}\n\nexport interface MousePosition {\n  x: number | null\n  y: number | null\n  pageX: number | null\n  pageY: number | null\n  clientX: number | null\n  clientY: number | null\n  screenX: number | null\n  screenY: number | null\n  elementWidth: number | null\n  elementHeight: number | null\n  isOver: boolean\n  isDown: boolean\n  isTouch: boolean\n}\n\nexport default useMouse\n"],"names":["useEvent","target","type","listener","cleanup","storedListener","React","storedCleanup","current","targetEl","didUnsubscribe","args","apply","addEventListener","removeEventListener","useLatest","storedValue","perf","performance","Date","now","useThrottleCallback","callback","fps","leading","storedCallback","ms","prev","trailingTimeout","clearTrailing","clearTimeout","deps","arguments","rightNow","call","setTimeout","state","action","window","e","event","element","touches","clientX","clientY","screenX","screenY","pageX","pageY","rect","getBoundingClientRect","x","left","pageXOffset","scrollX","y","top","pageYOffset","scrollY","width","height","context","hoverStatus","touchStatus","mouse","elementWidth","elementHeight","isOver","isTouch","handleDown","nextState","isDown","activeStatus","value","useMouse","options","enterDelay","leaveDelay","initialState","initialContext","dispatch","onMove","onTouchMove","onLeave","onDown","onUp","onTouchEnd","timeout"],"mappings":"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"}